
### 哈希算法有哪些应用场景

#### 安全加密

#### 唯一标识
从图片的二进制码串，开头取100字节，中间100字节，最后100字节，对300个字节哈希算法得到一个哈希字符串，作为图片唯一标识

#### 数据校验
P2P协议时，验证文件块是否完整（每个文件块的哈希值存在种子中）

#### 哈希函数

#### 负载均衡
对IP地址或会话ID计算哈希值，对服务器列表取模，得到服务器编号，路由过去

#### 数据分片
##### 如何统计"搜索关键词"出现的次数
- 1T日志，依次读出关键词，计算哈希值取模，分配到机器上，相同关键词就被分到同一个机器上，每个机器分别计算关键词出现次数，最后合并结果
- 这个处理过程，也是MapReduce的基本设计思想

##### 如何快速判断图片是否在图库中？
- 有1亿张图片，每个图片取唯一标识，构建散列表
- 多台机器，每台机器维护一部分散列表（哈希值取模）
- 判断一个图片是否在图库中，先计算唯一标识，取模得到机器编号，取对应的机器上的散列表中查找

估算1亿张图片构建散列表大约需要多少台机器
- 散列表每个数据单元包含 哈希值和图片路径，MD5哈希值长度为128bit，也就是16字节，文件路径上限是256字节，假设平均128字节，如果用链表法解决哈希冲突，需要存指针，指针占8个字节，所以每个数据单元占用152字节
- 假设一台机器内存为2GB，散列表的装载因子为0.75,一台机器大约1000万（2GB*0.75/152）张图片构建散列表，大约需要十几台机器

#### 分布式存储
- 对数据哈希取值，对机器个数取模，决定缓存机器编号
- 一致性哈希算法，构造虚拟的环和虚拟节点
