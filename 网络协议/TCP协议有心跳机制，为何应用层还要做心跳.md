
### TCP协议有心跳机制，为何应用层还要做心跳？
- tcp连接建立以后，隔7200s（2小时）发送探针检测连接，失败后重试10次，每次超时时间75s，虽然可修改配置
- TCP面向连接，是为了在客户端和服务端维护连接，而建立一定的数据结构来维护双方交互的状态，是虚拟的
- 在某种情况下，服务器CPU负载100%了，此时应用服务器程序无法响应业务请求，但是TCP连接依然还在，此时需要客户端主动断开连接然后请求其它服务器
- 类似的，客户端也可能突然进程挂掉，未通知服务器程序断开TCP连接，服务器程序认为客户端还活着，未能及时回收TCP连接，业务层做心跳，服务器程序能及时知道客户端状态
